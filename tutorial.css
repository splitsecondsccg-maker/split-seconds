/* tutorial.css */

/* The dark overlay that covers the screen */
#tutorial-overlay {
    position: fixed;
    top: 0; left: 0;
    width: 100vw; height: 100vh;
    background: rgba(0, 0, 0, 0.75);
    z-index: 9000;
    display: none; /* Hidden by default */
    pointer-events: none; /* Lets clicks pass through to the spotlighted items */
}

/* The Dialogue Box */
#tutorial-dialogue {
    position: absolute;
    bottom: 15%;
    left: 50%;
    transform: translateX(-50%);
    background: #1a1a24;
    border: 3px solid #f1c40f;
    padding: 20px 30px;
    border-radius: 12px;
    width: 450px;
    text-align: center;
    box-shadow: 0 10px 30px rgba(0,0,0,0.9);
    pointer-events: auto; /* So players can click the Next button */
    z-index: 9001;
}

/* During exertion, ensure the coach never covers the Confirm Exert button. */
body.exert-mode.tutorial-active #tutorial-dialogue {
    top: 14%;
    bottom: auto;
}

/* If there's no Next button (interactive prompt), always make the coach click-through. */
body.tutorial-no-next #tutorial-dialogue {
    pointer-events: none;
}

#tutorial-text {
    font-size: 1.2em;
    margin-bottom: 20px;
    line-height: 1.4;
}

#tutorial-next-btn {
    padding: 10px 20px;
    background: #f1c40f;
    color: #000;
    font-weight: bold;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 1em;
}

/* During interactive steps we make the coach click-through so it can't block required clicks. */
body.tutorial-passive-dialogue #tutorial-dialogue {
    pointer-events: none;
}
body.tutorial-passive-dialogue #tutorial-next-btn {
    pointer-events: auto;
}



/* Lock out clicks on the rest of the game when tutorial is active */
body.tutorial-active * {
    pointer-events: none;
}
body.tutorial-active .tutorial-spotlight, 
body.tutorial-active .tutorial-spotlight *,
body.tutorial-active #tutorial-overlay * {
    pointer-events: auto;
}
/* Only dim the screen when this class is active on the body */
body.tutorial-dimmed::before {
    content: "";
    position: fixed;
    top: 0; left: 0; width: 100vw; height: 100vh;
    background: rgba(0, 0, 0, 0.7);
    z-index: 8000; /* Just below the tutorial text and spotlights */
    pointer-events: none;
}

/* Ensure spotlights pop over the dimming */
.tutorial-spotlight {
    position: relative;
    z-index: 8001 !important; 
    pointer-events: auto !important;
    box-shadow: 0 0 15px 5px rgba(241, 196, 15, 0.8) !important; /* Gold glow */
}